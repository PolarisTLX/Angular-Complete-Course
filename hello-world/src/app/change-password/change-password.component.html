<form #f="ngForm" (ngSubmit)="submit(f)">
  <!-- next 2 lines, with ngModelGroup and div below it not always necessary -->
  <div ngModelGroup="contactInfo" #contact="ngModelGroup">
    <div *ngIf="!contact.valid">...all validation errors implemented like below</div>
      <div class="form-group">
        <label for="firstName">Old Password</label>
        <input
          required minlength="3"
          maxlength="30"
          pattern="1234"
          ngModel
          name="firstName"
          #firstName="ngModel"
          (change)="log(firstName)"
          id="firstName"
          type="text"
          class="form-control"
        >
        <!-- for validation to check things are input properly, add boostrap "alert"
             only when ngModel object is valid (see browser console)
             firstName.touched  makes warning not appear right away on page load, only when user touches it and then moves away -->
        <div
          class="alert alert-danger"
          *ngIf="firstName.touched && !firstName.valid">
          <div *ngIf="firstName.errors.required">Old password is required.</div>
          <!-- <div *ngIf="firstName.errors.minlength">First name must be min 3 chars, max 30 char</div> -->
          <div *ngIf="firstName.errors.minlength">First name must be min {{ firstName.errors.minlength.requiredLength }} chars, max 30 char</div>
          <div *ngIf="firstName.errors.pattern">First name does not match required pattern</div>
        </div>
      </div>


      <!--NEW PASSWORD  -->

      <!-- next 2 lines, with ngModelGroup and div below it not always necessary -->
      <div ngModelGroup="contactInfo" #contact="ngModelGroup">
        <div *ngIf="!contact.valid">...all validation errors implemented like below</div>
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input
              required minlength="5"
              maxlength="30"
              ngModel
              name="newPassword"
              #firstName="ngModel"
              (change)="log(newPassword)"
              id="newPassword"
              type="text"
              class="form-control"
            >
            <!-- for validation to check things are input properly, add boostrap "alert"
                 only when ngModel object is valid (see browser console)
                 firstName.touched  makes warning not appear right away on page load, only when user touches it and then moves away -->
            <div
              class="alert alert-danger"
              *ngIf="newPassword.touched && !firstName.valid">
              <div *ngIf="newPassword.errors.required">New password is required.</div>
              <!-- <div *ngIf="firstName.errors.minlength">First name must be min 3 chars, max 30 char</div> -->
              <div *ngIf="newPassword.errors.minlength">New password must be min {{ newPassword.errors.minlength.requiredLength }} chars, max 30 char</div>
            </div>
          </div>




          <!--CONFIRM PASSWORD  -->

          <!-- next 2 lines, with ngModelGroup and div below it not always necessary -->
          <div ngModelGroup="contactInfo" #contact="ngModelGroup">
            <div *ngIf="!contact.valid">...all validation errors implemented like below</div>
              <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input
                  pattern={{ newPassword.errors.minlength.requiredLength }}
                  ngModel
                  name="firstName"
                  #firstName="ngModel"
                  (change)="log(confirmPassword)"
                  id="confirmPassword"
                  type="text"
                  class="form-control"
                >
                <!-- for validation to check things are input properly, add boostrap "alert"
                     only when ngModel object is valid (see browser console)
                     firstName.touched  makes warning not appear right away on page load, only when user touches it and then moves away -->
                <div
                  class="alert alert-danger"
                  *ngIf="confirmPassword.touched && !firstName.valid">
                  <div *ngIf="confirmPassword.errors.required">Password mus be confirmed.</div>
                  <div *ngIf="confirmPassword.errors.pattern">Passwords do not match</div>
                </div>
              </div>





  <!-- <p> value below will help debug as it shows you the live values of the parts of the form above -->
  <p>{{ f. value | json }}</p>

  <button class="btn btn-primary" [disabled]="!f.valid">Change Password</button>
  <!-- can disable the button if the entire form (called "f" at the top:  ""<form #f=...") -->
    </div>
</form>
